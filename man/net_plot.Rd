% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/net_plot.R
\name{net_plot}
\alias{net_plot}
\title{Network Plot of Connectedness}
\usage{
net_plot(
  x,
  Cnames,
  use_pmfg = TRUE,
  layout = "circle",
  groups = NULL,
  div = 5,
  node.size = 20,
  edge = 3,
  pie.colour = c("red", "yellow")
)
}
\arguments{
\item{x}{A square connectedness matrix with the last row/column possibly containing totals.
The function uses the top-left \eqn{p \times p} block where \eqn{p = ncol(x) - 1}.}

\item{Cnames}{Character vector of node labels (length \eqn{p}).}

\item{use_pmfg}{Logical; if \code{TRUE}, apply \code{\link[NetworkToolbox]{PMFG}}
to the normalized matrix before plotting. Default \code{TRUE}.}

\item{layout}{Character; passed to \code{\link[qgraph]{qgraph}}. Common options:
\code{"circle"} (default when \code{use_pmfg = FALSE}) or \code{"spring"}.
Ignored if \code{use_pmfg = TRUE} (PMFG supplies the graph structure).}

\item{groups}{Optional vector/list of group memberships (for node coloring in \code{qgraph}).}

\item{div}{Positive number controlling edge thresholding when \code{use_pmfg = FALSE}.
Larger values keep fewer edges (top \eqn{p^2/div}). Default \code{5}.}

\item{node.size}{Base node size multiplier. Default \code{20}.}

\item{edge}{Base edge width (passed to \code{qgraph} as \code{esize} and \code{asize}). Default \code{3}.}

\item{pie.colour}{Length-2 character vector for the pie colors (FROM, TO). Default \code{c("red","yellow")}.}
}
\value{
A \code{qgraph} object (invisibly prints the plot).
}
\description{
Draws a network graph from a connectedness matrix, optionally filtered by the
Planar Maximally Filtered Graph (PMFG). Node sizes reflect total connectivity,
and node pies show the share of "FROM" vs "TO" connectivity.
}
\details{
The function normalizes the \eqn{p \times p} connectivity matrix by its sum, sets
the diagonal to zero, computes node sizes as the normalized sum of in- and out-going
strengths, and constructs a two-slice pie per node where the first slice is
the "FROM" share and the second is the "TO" share.

If \code{use_pmfg = TRUE}, edges are filtered via the PMFG and \code{layout} is ignored.
Otherwise, the top \eqn{p^2/div} edges (by weight) are retained via \code{qgraph}'s
\code{threshold} argument.
}
\examples{
\dontrun{
# Suppose 'TAB' is a connectedness TABLE with p+1 rows/cols (last is totals)
# and 'labs' is a character vector of length p:
g <- net_plot(TAB, Cnames = labs, use_pmfg = FALSE, layout = "circle")
}

}
