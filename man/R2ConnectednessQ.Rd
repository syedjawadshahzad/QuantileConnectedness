% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/R2ConnectednessQ.R
\name{R2ConnectednessQ}
\alias{R2ConnectednessQ}
\title{R² Decomposed Connectedness via Quantile Correlation}
\usage{
R2ConnectednessQ(
  x,
  window.size = NULL,
  nlag = 1,
  quantile = TRUE,
  q = 0.5,
  progbar = TRUE,
  method = "pearson",
  shrink = TRUE,
  relative = FALSE,
  corrected = FALSE
)
}
\arguments{
\item{x}{A \code{zoo} object containing multivariate time series data
(columns represent variables).}

\item{window.size}{Integer or \code{NULL}. Rolling window length for dynamic
connectedness estimation. If \code{NULL}, the full sample is used.}

\item{nlag}{Integer (default \code{1}). Number of lags for the decomposition.}

\item{quantile}{Logical (default \code{TRUE}). If \code{TRUE}, use quantile
correlations (\code{Qcor}); otherwise use standard correlations from \code{method}.}

\item{q}{Numeric in \code{[0,1]} (default \code{0.5}). Quantile level for the
quantile correlation coefficient.}

\item{progbar}{Logical (default \code{TRUE}). Display a progress bar during
rolling estimation.}

\item{method}{Character (default \code{"pearson"}). Correlation estimator when
\code{quantile = FALSE}; options include \code{"pearson"}, \code{"kendall"},
or \code{"spearman"}.}

\item{shrink}{Logical (default \code{TRUE}). Apply shrinkage to stabilize
the correlation matrix using \code{\link[corpcor]{cor.shrink}}.}

\item{relative}{Logical (default \code{FALSE}). If \code{TRUE}, express
connectedness measures as relative percentages.}

\item{corrected}{Logical (default \code{FALSE}). Apply small-sample bias
correction to the total connectedness index (TCI).}
}
\value{
A list containing:
\itemize{
\item \code{CT}: 4-D array of component contributions (\eqn{k \times k \times T \times (1+nlag)}).
\item \code{TO}, \code{FROM}, \code{NET}: directional connectedness measures.
\item \code{TCI}: total connectedness index over time.
\item \code{NPDC}: normalized pairwise directional connectedness.
\item \code{TABLE}: summary tables (overall, contemporaneous, and/or lagged).
\item \code{config}: list of configuration arguments used.
}
}
\description{
Extends the R² decomposed connectedness framework of Hoang and Baur (2022)
and Balli et al. (2023) by incorporating the \strong{quantile correlation coefficient}
proposed by Choi and Shin (2022).
The function quantifies total, directional, and net connectedness in a multivariate
system across quantiles, enabling tail-specific connectedness analysis (e.g.,
lower- or upper-tail dependence).
}
\details{
This function generalizes the R² decomposed connectedness approach developed by
Hoang & Baur (2022) and Balli et al. (2023). Instead of traditional correlations,
it employs quantile correlations \insertCite{ChoiShin2022}{yourpkg} to measure
dependence between variables at specific quantiles.

Internally, the function:
\enumerate{
\item Computes (quantile) correlation matrices for each rolling window.
\item Optionally applies shrinkage to improve matrix conditioning.
\item Decomposes R² connectedness using the helper
\code{ConnectednessTable()} from the \pkg{ConnectednessApproach} package.
}

Users must have the \pkg{ConnectednessApproach} package installed, as this function
relies on its core decomposition utilities (\code{ConnectednessTable()}).
}
\examples{
\dontrun{
library(ConnectednessApproach)
library(zoo)
data(dy2012)  # example dataset from ConnectednessApproach
res <- R2ConnectednessQ(dy2012, window.size = 200, q = 0.1)
res$TCI
}

}
\references{
Hoang, T. H. V., & Baur, D. G. (2022).
\emph{R² Connectedness: Measuring Integration and Contagion in Financial Markets}.
Journal of Financial Econometrics, 20(3), 520–544.

Balli, F., Balli, H. O., Louis, R. J., & Pappas, V. (2023).
\emph{Dynamic Connectedness Across Markets: Revisiting the R² Approach}.
Finance Research Letters, 56, 104263.

Choi, S., & Shin, S. (2022).
\emph{Quantile Correlation: Measuring Dependence at Different Quantiles}.
Journal of Econometrics, 226(1), 1–24. \doi{10.1016/j.jeconom.2021.08.001}
}
